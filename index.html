<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>LeoneZhu‘s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="LeoneZhu‘s Blog">
<meta property="og:url" content="https://leonezhu.github.io/blog/index.html">
<meta property="og:site_name" content="LeoneZhu‘s Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeoneZhu‘s Blog">
  
    <link rel="alternate" href="/blog/atom.xml" title="LeoneZhu‘s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">LeoneZhu‘s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog/" id="subtitle">记录美丽生活</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://leonezhu.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Flowable-SpringBoot简易demo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/11/05/Flowable-SpringBoot简易demo/" class="article-date">
  <time datetime="2019-11-05T03:22:16.000Z" itemprop="datePublished">2019-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/11/05/Flowable-SpringBoot简易demo/">Flowable+SpringBoot简易Demo</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>参考文章<a href="http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html" target="_blank" rel="noopener">GitHub Actions 入门教程</a>目录结构</p>
<p>前段时间开发任务中设计到业务流引擎的使用，公司之前使用的技术是Flowable。这里以Flowable+SpringBoot集成这个点记录Flowable的简单使用。</p>
<h1 id="一、Flowable是什么？"><a href="#一、Flowable是什么？" class="headerlink" title="一、Flowable是什么？"></a>一、Flowable是什么？</h1><h1 id="二、"><a href="#二、" class="headerlink" title="二、"></a>二、</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://leonezhu.github.io/blog/2019/11/05/Flowable-SpringBoot简易demo/" data-id="ck2ln7a7c0001b6cnm5ze3f0h" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/flowable/">flowable</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Flowable知识点" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/11/05/Flowable知识点/" class="article-date">
  <time datetime="2019-11-05T02:19:23.000Z" itemprop="datePublished">2019-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/11/05/Flowable知识点/">Flowable知识点</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Flowable是什么</strong></p>
<p>Flowable是一个使用Java编写的轻量级业务流程引擎。Flowable流程引擎可用于部署BPMN 2.0流程定义（用于定义流程的行业XML标准）， 创建这些流程定义的流程实例，进行查询，访问运行中或历史的流程实例与相关数据，等等。</p>
<p><strong>核心组件</strong></p>
<p>所有使用Flowable方法的共同点是<strong>核心引擎</strong>。核心引擎是一组服务的集合，并提供管理与执行业务流程的API</p>
<p><strong>Flowable与Activiti的关系</strong></p>
<p>Flowable是Activiti(Alfresco持有的注册商标)的fork</p>
<p><strong>Flowable与其他业务流程引擎的对比</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://leonezhu.github.io/blog/2019/11/05/Flowable知识点/" data-id="ck2ln7a7f0002b6cninwz6wkg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/flowable/">flowable</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-学习模板" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/11/04/学习模板/" class="article-date">
  <time datetime="2019-11-04T09:00:12.000Z" itemprop="datePublished">2019-11-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/11/04/学习模板/">学习模板</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>from: <a href="https://time.geekbang.org/column/article/14360" target="_blank" rel="noopener">https://time.geekbang.org/column/article/14360</a></p>
<ol>
<li>这个技术出现的背景、初衷和要达到什么样的目标或是要解决什么样的问题。</li>
<li>这个技术的优势和劣势是什么，trade-off是什么。任何技术都有好坏，在解决问题的时候也会带来新的问题。trade-off（要什么-不要什么）</li>
<li>这个技术适用的场景。业务场景，技术场景</li>
<li>技术的组成部分和关键点。核心组件</li>
<li>技术的底层原理和关键实现。参考<a href="https://coolshell.cn/?s=docker" target="_blank" rel="noopener">docker基础技术</a></li>
<li>已有的实现和它的对比。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://leonezhu.github.io/blog/2019/11/04/学习模板/" data-id="ck2ln7a7k0006b6cn8u2oelse" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/其他/">其他</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hexo操作" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/11/04/hexo操作/" class="article-date">
  <time datetime="2019-11-03T16:00:00.000Z" itemprop="datePublished">2019-11-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/11/04/hexo操作/">hexo操作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">hexo文档</a></p>
<p><strong>新建一篇文章</strong></p>
<blockquote>
<p>$ hexo new [layout] <title></title></p>
</blockquote>
<p>layout = 布局，默认值为post 代表路径为source/_posts</p>
<p><strong>生成文件&amp;部署</strong></p>
<blockquote>
<p> $ hexo generate –deploy</p>
<p> $ hexo deploy –generate</p>
</blockquote>
<p>简写</p>
<blockquote>
<p>  $ hexo g -d</p>
<p>  $ hexo d -g</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://leonezhu.github.io/blog/2019/11/04/hexo操作/" data-id="ck2ln7a7i0004b6cn2gykmkei" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/其他/">其他</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-数据结构与算法/数组" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/10/10/数据结构与算法/数组/" class="article-date">
  <time datetime="2019-10-09T16:00:00.000Z" itemprop="datePublished">2019-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/10/10/数据结构与算法/数组/">数组</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>数组（Array）是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同数据类型的数据。</p>
<p><strong>线性表</strong></p>
<p>线性表就是数据排成 一条线一样的结构。每个线性表上的数据最多只有前和后两个方向。</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7szc5c5ezj30vq0n5acy.jpg" alt="img"></p>
<p> <strong>连续的内存空间与相同类型的数据</strong></p>
<p>这两个特性使数组拥有“随机访问”的特性。弊端在于类似在数组中删除、插入一个数据时，为了保证连续性，会比较低效。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[i]_address = base_address + i * data_type_size</span><br></pre></td></tr></table></figure>

<p>数组随机访问时通过以上公式计算目标元素存储的内存地址。date_type_size是指数组中该类型元素的大小，如int就是4字节</p>
<blockquote>
<p>计算机会给每个内存单元分配一个地址，计算机通过地址来访问内存</p>
</blockquote>
<p>//TODO  Java 集合总结、与数组对比、ArrayList源码分析</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://leonezhu.github.io/blog/2019/10/10/数据结构与算法/数组/" data-id="ck2ln7a8i000sb6cn0chtxl65" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/算法/">算法</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-数据结构与算法/数据结构与算法之美" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/10/09/数据结构与算法/数据结构与算法之美/" class="article-date">
  <time datetime="2019-10-09T04:19:23.000Z" itemprop="datePublished">2019-10-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/10/09/数据结构与算法/数据结构与算法之美/">数据结构与算法之美</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="什么是数据结构？什么是算法？"><a href="#什么是数据结构？什么是算法？" class="headerlink" title="什么是数据结构？什么是算法？"></a>什么是数据结构？什么是算法？</h3><p>广义 上数据结构是指一组数据的存储结构；算法是指操作数据的一组方法；</p>
<p>狭义上就是指队列、栈、堆、二分查找、动态规划等著名的数据结构与算法；</p>
<p>两者的关系？数据结构是为算法服务的，算法要作用在特定的数据结构 上。</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7ru1r6jv7j30u01tau05.jpg" alt="img"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://leonezhu.github.io/blog/2019/10/09/数据结构与算法/数据结构与算法之美/" data-id="ck2ln7a8f000ob6cnor9dq5l4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/算法/">算法</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Shell-POST" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/10/09/Shell-POST/" class="article-date">
  <time datetime="2019-10-09T02:20:49.000Z" itemprop="datePublished">2019-10-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/10/09/Shell-POST/">Shell &amp; POST</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl </span><br><span class="line">-H &quot;Content-Type:application/json&quot; </span><br><span class="line">-X POST -d  &apos;&#123;&quot;image&quot;:&quot;test&quot;,&quot;id_card_side&quot;:&quot;front&quot;,&quot;detect_direction&quot;:&quot;true&quot;,&quot;detect_risk&quot;:&quot;true&quot;&#125;&apos; </span><br><span class="line">https://aip.baidubce.com/rest/2.0/ocr/v1/idcard?access_token=24.736647a5fe3f05204fa6a6cf4adf6edb.2592000.1572424892.282335-10853578</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://leonezhu.github.io/blog/2019/10/09/Shell-POST/" data-id="ck2ln7a7j0005b6cnao0e96r7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Shell/">Shell</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-数据结构与算法/时间、空间复杂度" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/10/09/数据结构与算法/时间、空间复杂度/" class="article-date">
  <time datetime="2019-10-08T16:00:00.000Z" itemprop="datePublished">2019-10-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/10/09/数据结构与算法/时间、空间复杂度/">时间、空间复杂度</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>复杂度分析的作用**</p>
<p>数据结构与算法解决的是“快”和“省 ”的问题，时间 、空间复杂度就是用来衡量算法执行效率的考量指标。</p>
<p>与其对应的是“事后统计法”，即先将代码跑一遍，然后通过统计、监控得到算法 执行的时间与占用的内存来分析。</p>
<p><strong>大O复杂度表示法</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7rwzsuip5j30vh031q31.jpg" alt="img"></p>
<p>T(n)表示代码执行的时间；</p>
<p>n表示数据规模的大小；</p>
<p>f(n)表示每行代码执行的次数的总和；</p>
<p>O表示代码执行时间T(n)与f(n)表达式成正比；</p>
<p>(n) = O(2n2+2n+3) 即大O时间复杂度表示法，并不具体表示代码真正的执行时间，而是表示代码执行时间随数据规模增长的变化趋势，所以也叫渐进时间复杂度，即时间复杂度。空间复杂度类似。</p>
<p><strong>时间复杂度分析</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (; p &lt; 100; ++p) &#123; </span><br><span class="line">	sum = sum + p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>*该段代码虽然是个循环 ，但是循环次数是已知的而不是n，所以时间复杂度依旧是常数级别的，不能代表执行效率与数据规模增长的变化 ，所以可以忽略。</p>
<p>总的时间复杂度等于量级最大的那段代码的时间复杂度。</p>
<p><strong>常见的时间复杂度实例</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7rxl8108ij30vq0fwjti.jpg" alt="img"></p>
<p>非多项式量级：O(2^n) 和 O(n!)。非多项式量级的算法问题叫做NP（非确定多项式）问题 。 非多项式：规模n不是出现在底数的位置。</p>
<p><strong>对数</strong></p>
<blockquote>
<p>如果a的x次方等于N（a&gt;0，且a不等于1），那么数x叫做以a为底N的对数（logarithm），记作x=logaN。其中，a叫做对数的<a href="https://baike.baidu.com/item/底数/5416651" target="_blank" rel="noopener">底数</a>，N叫做<a href="https://baike.baidu.com/item/真数/326681" target="_blank" rel="noopener">真数</a>。</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://leonezhu.github.io/blog/2019/10/09/数据结构与算法/时间、空间复杂度/" data-id="ck2ln7a8j000vb6cnm8a0j88s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/算法/">算法</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-高效学习" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/08/19/高效学习/" class="article-date">
  <time datetime="2019-08-19T04:19:23.000Z" itemprop="datePublished">2019-08-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/08/19/高效学习/">高效学习</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="高效学习"><a href="#高效学习" class="headerlink" title="高效学习"></a>高效学习</h1><h2 id="端正学习态度"><a href="#端正学习态度" class="headerlink" title="端正学习态度"></a>端正学习态度</h2><p>学习是一件逆人性的事，就像锻炼身体一样，需要人持续付出，会让人感到痛苦，并随时想找理由放弃</p>
<ul>
<li><p>被动学习</p>
<p>听讲、阅读、试听、演示</p>
</li>
<li><p>主动学习</p>
<p>讨论、时间、教授他人</p>
<p>学习不是努力读更多的书，盲目追求阅读的速度和数量，这会让人产生低层次的勤奋和成长的感觉，这只是在使蛮力。在思辨，要践行，要总结和归纳，否则，你只是在机械地重复某件事，而不会有质的成长</p>
</li>
<li><p>浅度学习</p>
<p>从微信公众号、博客等平台获取别人总结的知识。让人短时间内体会到轻松获取知识的快感，并产生勤奋好学和成长的幻觉。陷入啊“什么都懂，却依然过不好这一生“的状态 </p>
</li>
<li><p>深度学习</p>
<p>有更深层次的思考、把知识转换成自己技能</p>
</li>
<li><p>如何进行深度学习？</p>
<ul>
<li>知识采集：获取信息源头、破解表面信息的内在本质、多方数据印证</li>
<li>知识缝合：把信息组织起来，成为结构体的知识。连接记忆，逻辑推理，知识梳理</li>
<li>技能转换：举一反三、实践和练习、传授教导，把知识转化成自己的技能</li>
</ul>
</li>
<li><p>学习的观点</p>
<ul>
<li><p>学习是为了找到方法</p>
<p>学习不仅仅是为了找到答案，而是为了找到方法。只有掌握解题的思路和方法，才算得上拥有解决问题的能力</p>
</li>
<li><p>学习是为了找到真理</p>
<p>学习不仅仅是为了知道，而更是为了思考和理解。学习的过程中，我们不是为了知道某个事得表面是什么，而是要通过表象去探索其内在的本质和原理</p>
</li>
<li><p>学习是为了了解自己</p>
<p>学习不仅仅是为了开拓眼界，而更是为了找到自己的未知，为了了解自己。你不知道你不知道的东西。你永远不会去学习你不知道其存在的东西。学习可以让你知道自己不知道的东西</p>
</li>
<li><p>学习是为了改变自己</p>
<p>学习是为了改变自己的思考方式、思维方式，改变自己与生俱来的那些垃圾和低效的算法。学习让我们改变自己，行动和实践，反思和改善，从而获得成长</p>
</li>
</ul>
</li>
</ul>
<h2 id="源头、原理和知识地图"><a href="#源头、原理和知识地图" class="headerlink" title="源头、原理和知识地图"></a>源头、原理和知识地图</h2><ul>
<li>挑选知识和信息源</li>
<li>注重基础和原理</li>
<li>知识地图</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://leonezhu.github.io/blog/2019/08/19/高效学习/" data-id="ck2ln7a7z000gb6cn9cjmhtmi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/学习/">学习</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-java/多线程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/08/14/java/多线程/" class="article-date">
  <time datetime="2019-08-13T16:00:00.000Z" itemprop="datePublished">2019-08-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/08/14/java/多线程/">多线程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h1><ul>
<li><p>ArrayBlockingQueue类</p>
<p>是java.util.concurrent包下的一个基于数组的阻塞队列。主要方法有：</p>
<p>add(E e)：将e加到队列里，实际调用offer方法，失败报错</p>
<p>offer(E e)：将e放到队列里，如果队列可以容纳，则返回ture，否则返回false</p>
<p>offer(E e, long timeout, TimeUnit unit)：添加超时时间参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public boolean offer(E e, long timeout, TimeUnit unit)</span><br><span class="line">    throws InterruptedException &#123;</span><br><span class="line">  </span><br><span class="line">    Objects.requireNonNull(e);</span><br><span class="line">    long nanos = unit.toNanos(timeout);</span><br><span class="line">    final ReentrantLock lock = this.lock;</span><br><span class="line">    lock.lockInterruptibly();</span><br><span class="line">    try &#123;</span><br><span class="line">        while (count == items.length) &#123;</span><br><span class="line">        //超时，直接返回false</span><br><span class="line">            if (nanos &lt;= 0L)</span><br><span class="line">                return false;</span><br><span class="line">            nanos = notFull.awaitNanos(nanos);</span><br><span class="line">        &#125;</span><br><span class="line">        enqueue(e);</span><br><span class="line">        return true;</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line">        lock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>put(E e)：将e放到队列里，如果队列没有空间，则调用该方法的线程被阻断，直到队列里有空间再继续</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public void put(E e) throws InterruptedException &#123;</span><br><span class="line">    Objects.requireNonNull(e);</span><br><span class="line">    final ReentrantLock lock = this.lock;</span><br><span class="line">    lock.lockInterruptibly();</span><br><span class="line">    try &#123;</span><br><span class="line">        while (count == items.length)</span><br><span class="line">            notFull.await();</span><br><span class="line">        enqueue(e);</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line">        lock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>Sleep()与wait()的区别？</p>
<ol>
<li>sleep是Treed类的方法，wait是Object类的方法</li>
<li>sleep不会影响锁行为的改变</li>
<li>sleep与wait都会暂停当前的线程，调用wait后需要别的线程执行notify/notifyAll才能重新获得CPU的执行时间</li>
<li></li>
</ol>
</li>
<li><p>锁</p>
<p><a href="https://tech.meituan.com/2018/11/15/java-lock.html" target="_blank" rel="noopener">Java锁</a></p>
<ul>
<li><p>Synchronized 与 Lock的区别</p>
<p><a href="https://blog.csdn.net/u012403290/article/details/64910926" target="_blank" rel="noopener">https://blog.csdn.net/u012403290/article/details/64910926</a></p>
<ol>
<li>Synchronized 是Java中的关键字，托管给JVM执行。Lock是接口，通过java代码控制锁的实现，常用的类有ReentrantLock。</li>
<li>Synchronized 锁的释放方式有两种。一是获取锁的线程执行完了同步代码，释放锁。二是执行异常释放锁。Lock获取锁后必须再finaly里释放锁，不然会死锁</li>
<li>两者锁的获取方式不一样。对于Synchronized 而言，假设A线程获得锁，B线程等待。如果A线程阻塞，B线程会一直等待。Lock有很多实现类，获取锁的方式也有多种。。。TODO</li>
<li>Synchronized 无法获得锁的状态，Lock可以判断</li>
<li>可实现的锁类型不一样：Synchronized（可重入 不可中断 非公平） ，Lock（可重入 可判断 可公平（两者皆可））</li>
</ol>
</li>
<li><p>锁的类型</p>
<ul>
<li><p>可重入锁：在执行对象中所有同步方法不用再次获得锁</p>
</li>
<li><p>可中断锁：在等待获取锁过程中可中断</p>
</li>
<li><p>公平锁： 按等待获取锁的线程的等待时间进行获取，等待时间长的具有优先获取锁权利</p>
</li>
<li><p>读写锁：对资源读取和写入的时候拆分为2部分处理，读的时候可以多线程一起读，写的时候必须同步地写</p>
</li>
<li><p>悲观锁：对于同一个数据的并发操作，悲观锁认为自己在使用数据的时候一定有别的线程来修改数据，因此在获取数据的时候会先加锁，确保数据不会被别的线程修改。Java中，synchronized关键字和Lock的实现类都是悲观锁</p>
</li>
<li><p>乐观锁：认为自己在使用数据时不会有别的线程修改数据，所以不会添加锁，只是在更新数据的时候去判断之前有没有别的线程更新了这个数据。如果这个数据没有被更新，当前线程将自己修改的数据成功写入。如果数据已经被其他线程更新，则根据不同的实现方式执行不同的操作（例如报错或者自动重试）。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>volatile深入分析</p>
<p><a href="https://blog.csdn.net/vernonzheng/article/details/8201744" target="_blank" rel="noopener">https://blog.csdn.net/vernonzheng/article/details/8201744</a></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://leonezhu.github.io/blog/2019/08/14/java/多线程/" data-id="ck2ln7a8e000mb6cngp64b0a2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Java/">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><a class="extend next" rel="next" href="/blog/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Mysql/">Mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Redis/">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Shell/">Shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/flowable/">flowable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/其他/">其他</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/学习/">学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/算法/">算法</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/Java/" style="font-size: 20px;">Java</a> <a href="/blog/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/blog/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/blog/tags/Shell/" style="font-size: 10px;">Shell</a> <a href="/blog/tags/flowable/" style="font-size: 15px;">flowable</a> <a href="/blog/tags/其他/" style="font-size: 15px;">其他</a> <a href="/blog/tags/学习/" style="font-size: 10px;">学习</a> <a href="/blog/tags/算法/" style="font-size: 20px;">算法</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/08/">August 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2019/11/05/Flowable-SpringBoot简易demo/">Flowable+SpringBoot简易Demo</a>
          </li>
        
          <li>
            <a href="/blog/2019/11/05/Flowable知识点/">Flowable知识点</a>
          </li>
        
          <li>
            <a href="/blog/2019/11/04/学习模板/">学习模板</a>
          </li>
        
          <li>
            <a href="/blog/2019/11/04/hexo操作/">hexo操作</a>
          </li>
        
          <li>
            <a href="/blog/2019/10/10/数据结构与算法/数组/">数组</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 leonezhu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>